{
  "name": "Node.js Backend API",
  "description": "A Node.js backend API with Express, middleware setup, and basic authentication",
  "category": "backend",
  "framework": "nodejs",
  "files": [
    {
      "file_path": "package.json",
      "file_name": "package.json",
      "file_type": "config",
      "content": "{\n  \"name\": \"{{project_name}}\",\n  \"version\": \"1.0.0\",\n  \"description\": \"{{project_description}}\",\n  \"main\": \"server.js\",\n  \"scripts\": {\n    \"start\": \"node server.js\",\n    \"dev\": \"nodemon server.js\",\n    \"test\": \"jest\",\n    \"test:watch\": \"jest --watch\"\n  },\n  \"keywords\": [\"nodejs\", \"express\", \"api\", \"backend\"],\n  \"author\": \"\",\n  \"license\": \"MIT\",\n  \"dependencies\": {\n    \"express\": \"^4.18.2\",\n    \"cors\": \"^2.8.5\",\n    \"helmet\": \"^7.0.0\",\n    \"morgan\": \"^1.10.0\",\n    \"dotenv\": \"^16.0.3\",\n    \"bcryptjs\": \"^2.4.3\",\n    \"jsonwebtoken\": \"^9.0.0\",\n    \"express-validator\": \"^7.0.1\",\n    \"mongoose\": \"^7.0.3\"\n  },\n  \"devDependencies\": {\n    \"nodemon\": \"^2.0.22\",\n    \"jest\": \"^29.5.0\",\n    \"supertest\": \"^6.3.3\"\n  }\n}"
    },
    {
      "file_path": "server.js",
      "file_name": "server.js",
      "file_type": "code",
      "content": "const express = require('express');\nconst cors = require('cors');\nconst helmet = require('helmet');\nconst morgan = require('morgan');\nrequire('dotenv').config();\n\nconst app = express();\nconst PORT = process.env.PORT || 3000;\n\n// Middleware\napp.use(helmet());\napp.use(cors());\napp.use(morgan('combined'));\napp.use(express.json({ limit: '10mb' }));\napp.use(express.urlencoded({ extended: true }));\n\n// Routes\napp.use('/api/auth', require('./routes/auth'));\napp.use('/api/users', require('./routes/users'));\napp.use('/api/data', require('./routes/data'));\n\n// Health check endpoint\napp.get('/health', (req, res) => {\n  res.status(200).json({\n    status: 'OK',\n    timestamp: new Date().toISOString(),\n    service: '{{project_name}}'\n  });\n});\n\n// Root endpoint\napp.get('/', (req, res) => {\n  res.json({\n    message: 'Welcome to {{project_name}} API',\n    version: '1.0.0',\n    documentation: '/api/docs'\n  });\n});\n\n// Error handling middleware\napp.use((err, req, res, next) => {\n  console.error(err.stack);\n  res.status(500).json({\n    error: 'Something went wrong!',\n    message: process.env.NODE_ENV === 'development' ? err.message : 'Internal server error'\n  });\n});\n\n// 404 handler\napp.use('*', (req, res) => {\n  res.status(404).json({\n    error: 'Route not found',\n    path: req.originalUrl\n  });\n});\n\n// Start server\napp.listen(PORT, () => {\n  console.log(`ðŸš€ {{project_name}} server running on port ${PORT}`);\n  console.log(`ðŸ“– API documentation: http://localhost:${PORT}/api/docs`);\n});\n\nmodule.exports = app;"
    },
    {
      "file_path": "routes/auth.js",
      "file_name": "auth.js",
      "file_type": "code",
      "content": "const express = require('express');\nconst bcrypt = require('bcryptjs');\nconst jwt = require('jsonwebtoken');\nconst { body, validationResult } = require('express-validator');\nconst router = express.Router();\n\n// Mock user data (replace with database)\nconst users = [];\n\n// @route   POST /api/auth/register\n// @desc    Register a new user\n// @access  Public\nrouter.post('/register', [\n  body('email').isEmail().withMessage('Please provide a valid email'),\n  body('password').isLength({ min: 6 }).withMessage('Password must be at least 6 characters'),\n  body('name').notEmpty().withMessage('Name is required')\n], async (req, res) => {\n  try {\n    const errors = validationResult(req);\n    if (!errors.isEmpty()) {\n      return res.status(400).json({ errors: errors.array() });\n    }\n\n    const { email, password, name } = req.body;\n\n    // Check if user already exists\n    const existingUser = users.find(user => user.email === email);\n    if (existingUser) {\n      return res.status(400).json({ message: 'User already exists' });\n    }\n\n    // Hash password\n    const salt = await bcrypt.genSalt(10);\n    const hashedPassword = await bcrypt.hash(password, salt);\n\n    // Create user\n    const user = {\n      id: users.length + 1,\n      name,\n      email,\n      password: hashedPassword,\n      createdAt: new Date()\n    };\n    users.push(user);\n\n    // Generate JWT\n    const token = jwt.sign(\n      { userId: user.id, email: user.email },\n      process.env.JWT_SECRET || 'fallback_secret',\n      { expiresIn: '24h' }\n    );\n\n    res.status(201).json({\n      message: 'User registered successfully',\n      token,\n      user: {\n        id: user.id,\n        name: user.name,\n        email: user.email\n      }\n    });\n  } catch (error) {\n    console.error(error);\n    res.status(500).json({ message: 'Server error' });\n  }\n});\n\n// @route   POST /api/auth/login\n// @desc    Login user\n// @access  Public\nrouter.post('/login', [\n  body('email').isEmail().withMessage('Please provide a valid email'),\n  body('password').exists().withMessage('Password is required')\n], async (req, res) => {\n  try {\n    const errors = validationResult(req);\n    if (!errors.isEmpty()) {\n      return res.status(400).json({ errors: errors.array() });\n    }\n\n    const { email, password } = req.body;\n\n    // Find user\n    const user = users.find(user => user.email === email);\n    if (!user) {\n      return res.status(400).json({ message: 'Invalid credentials' });\n    }\n\n    // Check password\n    const isMatch = await bcrypt.compare(password, user.password);\n    if (!isMatch) {\n      return res.status(400).json({ message: 'Invalid credentials' });\n    }\n\n    // Generate JWT\n    const token = jwt.sign(\n      { userId: user.id, email: user.email },\n      process.env.JWT_SECRET || 'fallback_secret',\n      { expiresIn: '24h' }\n    );\n\n    res.json({\n      message: 'Login successful',\n      token,\n      user: {\n        id: user.id,\n        name: user.name,\n        email: user.email\n      }\n    });\n  } catch (error) {\n    console.error(error);\n    res.status(500).json({ message: 'Server error' });\n  }\n});\n\nmodule.exports = router;"
    },
    {
      "file_path": "routes/users.js",
      "file_name": "users.js",
      "file_type": "code",
      "content": "const express = require('express');\nconst { body, validationResult } = require('express-validator');\nconst auth = require('../middleware/auth');\nconst router = express.Router();\n\n// Mock user data (replace with database)\nconst users = [];\n\n// @route   GET /api/users/profile\n// @desc    Get user profile\n// @access  Private\nrouter.get('/profile', auth, (req, res) => {\n  try {\n    const user = users.find(user => user.id === req.user.userId);\n    if (!user) {\n      return res.status(404).json({ message: 'User not found' });\n    }\n\n    res.json({\n      id: user.id,\n      name: user.name,\n      email: user.email,\n      createdAt: user.createdAt\n    });\n  } catch (error) {\n    console.error(error);\n    res.status(500).json({ message: 'Server error' });\n  }\n});\n\n// @route   PUT /api/users/profile\n// @desc    Update user profile\n// @access  Private\nrouter.put('/profile', [\n  auth,\n  body('name').optional().notEmpty().withMessage('Name cannot be empty'),\n  body('email').optional().isEmail().withMessage('Please provide a valid email')\n], (req, res) => {\n  try {\n    const errors = validationResult(req);\n    if (!errors.isEmpty()) {\n      return res.status(400).json({ errors: errors.array() });\n    }\n\n    const userIndex = users.findIndex(user => user.id === req.user.userId);\n    if (userIndex === -1) {\n      return res.status(404).json({ message: 'User not found' });\n    }\n\n    const { name, email } = req.body;\n    if (name) users[userIndex].name = name;\n    if (email) users[userIndex].email = email;\n    users[userIndex].updatedAt = new Date();\n\n    res.json({\n      message: 'Profile updated successfully',\n      user: {\n        id: users[userIndex].id,\n        name: users[userIndex].name,\n        email: users[userIndex].email\n      }\n    });\n  } catch (error) {\n    console.error(error);\n    res.status(500).json({ message: 'Server error' });\n  }\n});\n\nmodule.exports = router;"
    },
    {
      "file_path": "routes/data.js",
      "file_name": "data.js",
      "file_type": "code",
      "content": "const express = require('express');\nconst auth = require('../middleware/auth');\nconst router = express.Router();\n\n// Mock data\nconst data = [\n  { id: 1, title: 'Sample Data 1', content: 'This is sample content 1', createdAt: new Date() },\n  { id: 2, title: 'Sample Data 2', content: 'This is sample content 2', createdAt: new Date() },\n  { id: 3, title: 'Sample Data 3', content: 'This is sample content 3', createdAt: new Date() }\n];\n\n// @route   GET /api/data\n// @desc    Get all data\n// @access  Public\nrouter.get('/', (req, res) => {\n  try {\n    const { page = 1, limit = 10, search } = req.query;\n    let filteredData = [...data];\n\n    // Search functionality\n    if (search) {\n      filteredData = data.filter(item => \n        item.title.toLowerCase().includes(search.toLowerCase()) ||\n        item.content.toLowerCase().includes(search.toLowerCase())\n      );\n    }\n\n    // Pagination\n    const startIndex = (page - 1) * limit;\n    const endIndex = page * limit;\n    const paginatedData = filteredData.slice(startIndex, endIndex);\n\n    res.json({\n      data: paginatedData,\n      pagination: {\n        current: parseInt(page),\n        total: Math.ceil(filteredData.length / limit),\n        count: paginatedData.length,\n        totalItems: filteredData.length\n      }\n    });\n  } catch (error) {\n    console.error(error);\n    res.status(500).json({ message: 'Server error' });\n  }\n});\n\n// @route   GET /api/data/:id\n// @desc    Get data by ID\n// @access  Public\nrouter.get('/:id', (req, res) => {\n  try {\n    const item = data.find(item => item.id === parseInt(req.params.id));\n    if (!item) {\n      return res.status(404).json({ message: 'Data not found' });\n    }\n    res.json(item);\n  } catch (error) {\n    console.error(error);\n    res.status(500).json({ message: 'Server error' });\n  }\n});\n\n// @route   POST /api/data\n// @desc    Create new data\n// @access  Private\nrouter.post('/', auth, (req, res) => {\n  try {\n    const { title, content } = req.body;\n    \n    if (!title || !content) {\n      return res.status(400).json({ message: 'Title and content are required' });\n    }\n\n    const newItem = {\n      id: data.length + 1,\n      title,\n      content,\n      createdBy: req.user.userId,\n      createdAt: new Date()\n    };\n\n    data.push(newItem);\n    res.status(201).json({\n      message: 'Data created successfully',\n      data: newItem\n    });\n  } catch (error) {\n    console.error(error);\n    res.status(500).json({ message: 'Server error' });\n  }\n});\n\nmodule.exports = router;"
    },
    {
      "file_path": "middleware/auth.js",
      "file_name": "auth.js",
      "file_type": "code",
      "content": "const jwt = require('jsonwebtoken');\n\nmodule.exports = (req, res, next) => {\n  // Get token from header\n  const token = req.header('Authorization')?.replace('Bearer ', '');\n\n  // Check if no token\n  if (!token) {\n    return res.status(401).json({ message: 'No token, authorization denied' });\n  }\n\n  try {\n    // Verify token\n    const decoded = jwt.verify(token, process.env.JWT_SECRET || 'fallback_secret');\n    req.user = decoded;\n    next();\n  } catch (error) {\n    res.status(401).json({ message: 'Token is not valid' });\n  }\n};"
    },
    {
      "file_path": ".env.example",
      "file_name": ".env.example",
      "file_type": "config",
      "content": "# Server Configuration\nPORT=3000\nNODE_ENV=development\n\n# JWT Secret (generate a secure random string)\nJWT_SECRET=your_jwt_secret_key_here\n\n# Database Configuration\nMONGODB_URI=mongodb://localhost:27017/{{project_name}}\n\n# CORS Configuration\nCORS_ORIGIN=http://localhost:3000\n\n# Rate Limiting\nRATE_LIMIT_WINDOW_MS=900000\nRATE_LIMIT_MAX_REQUESTS=100\n\n# Logging\nLOG_LEVEL=info"
    },
    {
      "file_path": "README.md",
      "file_name": "README.md",
      "file_type": "documentation",
      "content": "# {{project_name}}\n\n{{project_description}}\n\n## Features\n\n- âœ… Express.js server setup\n- âœ… Authentication with JWT\n- âœ… Input validation\n- âœ… Security middleware (Helmet, CORS)\n- âœ… Request logging with Morgan\n- âœ… Environment configuration\n- âœ… Error handling\n- âœ… API documentation\n\n## Getting Started\n\n### Prerequisites\n\n- Node.js (version 14 or higher)\n- npm or yarn\n- MongoDB (optional, for database features)\n\n### Installation\n\n1. Clone this repository\n2. Install dependencies:\n   ```bash\n   npm install\n   ```\n\n3. Create environment file:\n   ```bash\n   cp .env.example .env\n   ```\n\n4. Update the `.env` file with your configuration\n\n### Running the Application\n\n#### Development\n```bash\nnpm run dev\n```\n\n#### Production\n```bash\nnpm start\n```\n\n#### Testing\n```bash\nnpm test\n```\n\n## API Endpoints\n\n### Authentication\n- `POST /api/auth/register` - Register a new user\n- `POST /api/auth/login` - Login user\n\n### Users\n- `GET /api/users/profile` - Get user profile (Protected)\n- `PUT /api/users/profile` - Update user profile (Protected)\n\n### Data\n- `GET /api/data` - Get all data with pagination and search\n- `GET /api/data/:id` - Get data by ID\n- `POST /api/data` - Create new data (Protected)\n\n### Health Check\n- `GET /health` - Health check endpoint\n\n## Project Structure\n\n```\nâ”œâ”€â”€ middleware/\nâ”‚   â””â”€â”€ auth.js              # JWT authentication middleware\nâ”œâ”€â”€ routes/\nâ”‚   â”œâ”€â”€ auth.js              # Authentication routes\nâ”‚   â”œâ”€â”€ users.js             # User management routes\nâ”‚   â””â”€â”€ data.js              # Data CRUD routes\nâ”œâ”€â”€ server.js                # Main server file\nâ”œâ”€â”€ package.json             # Dependencies and scripts\nâ”œâ”€â”€ .env.example             # Environment variables template\nâ””â”€â”€ README.md               # This file\n```\n\n## Environment Variables\n\n| Variable | Description | Default |\n|----------|-------------|----------|\n| PORT | Server port | 3000 |\n| NODE_ENV | Environment | development |\n| JWT_SECRET | JWT signing secret | fallback_secret |\n| MONGODB_URI | MongoDB connection string | - |\n\n## Security Features\n\n- **Helmet**: Sets various HTTP headers for security\n- **CORS**: Cross-Origin Resource Sharing configuration\n- **JWT**: JSON Web Token authentication\n- **Input Validation**: Express-validator for request validation\n- **Rate Limiting**: Built-in protection against abuse\n\n## Contributing\n\n1. Fork the project\n2. Create your feature branch (`git checkout -b feature/AmazingFeature`)\n3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)\n4. Push to the branch (`git push origin feature/AmazingFeature`)\n5. Open a Pull Request\n\n## License\n\nThis project is licensed under the MIT License - see the LICENSE file for details."
    },
    {
      "file_path": ".gitignore",
      "file_name": ".gitignore",
      "file_type": "config",
      "content": "# Dependencies\nnode_modules/\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\nlerna-debug.log*\n\n# Environment variables\n.env\n.env.local\n.env.development.local\n.env.test.local\n.env.production.local\n\n# Runtime data\npids\n*.pid\n*.seed\n*.pid.lock\n\n# Coverage directory used by tools like istanbul\ncoverage/\n*.lcov\n\n# nyc test coverage\n.nyc_output\n\n# Grunt intermediate storage\n.grunt\n\n# Bower dependency directory\nbower_components\n\n# node-waf configuration\n.lock-wscript\n\n# Compiled binary addons\nbuild/Release\n\n# Dependency directories\njspm_packages/\n\n# TypeScript cache\n*.tsbuildinfo\n\n# Optional npm cache directory\n.npm\n\n# Optional eslint cache\n.eslintcache\n\n# Optional REPL history\n.node_repl_history\n\n# Output of 'npm pack'\n*.tgz\n\n# Yarn Integrity file\n.yarn-integrity\n\n# parcel-bundler cache\n.cache\n.parcel-cache\n\n# Next.js build output\n.next\n\n# Nuxt.js build / generate output\n.nuxt\ndist\n\n# Storybook build outputs\n.out\n.storybook-out\n\n# Temporary folders\ntmp/\ntemp/\n\n# IDE\n.vscode/\n.idea/\n*.swp\n*.swo\n*~\n\n# OS\n.DS_Store\n.DS_Store?\n._*\n.Spotlight-V100\n.Trashes\nehthumbs.db\nThumbs.db\n\n# Logs\nlogs\n*.log"
    }
  ]
}
